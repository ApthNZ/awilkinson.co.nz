<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="stylesheet.css">
    <title>Andrew Wilkinson</title>
  </head>

  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="/index">AW</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/index">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Projects</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container">

    <div class="row">
      <div class="col">
        <br>
        <img src="snap.jpg" alt="Finger and thumb making a snapping motion" class="img-fluid, rounded">
        <h2>Oh, Snap!</h2>
        <i>08/05/2020</i>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <p>Awhile ago I decided on putting together some sort of homelab, and was keen to get MicroStack up and running. I explored a few options and finally - due to hardware recommendations - settled on an Intel NUC.
        <p>COVID-19 delays didn't seem to hamper the courier much, and soon enough I had a shiny new box sitting on my desk.
        <p>My thinking was this - 
        <ul>
          <li>MicroStack is a Canonical product aimed at IoT stuff, designed to install via snap packages</li>
          <li>Ubuntu Core is a Canonical OS aimed at IoT stuff, and is tightly integrated with the snap store</li>
          <li>Therefore, I should install MicroStack on Core</li>
        </ul>
        <p>Did it work? Of course it didn't fucking work. 
        <p>Core installed on the NUC fine. Got SSH working from my laptop and went to install MicroStack. Apparently, the MicroStack snap package is a "classic" package, which uses a different containment method (?) to regular snap packages, and needs access to the base filesystem (which doesn't sound like containment at all, but whatever).
        <p>Ubuntu Core, on the other hand, <i>doesn't support classic snap packages</i> because it doesn't have a normal filesystem or something.
        <p>The "Install OpenStack in a Snap!" product can't run on the snap-heavy OS from the same vendor.
        <p>FFS.
        <p>So I'm running Ubuntu Desktop (couldn't be bothered downloading a server image, and apparently they're almost identical if you do a minimal desktop install), and MicroStack seems to be installing ok. 
        <p>Here's hoping.
        <br>
        <p>Things that are currently interesting and helpful:
        <ul>
          <li><a href="https://www.intel.com/content/www/us/en/products/boards-kits/nuc.html">Intel NUC</a></li>
          <li><a href="https://ubuntu.com/core">Ubuntu Core</a></li>
          <li><a href="https://manpages.ubuntu.com/manpages/precise/man1/ssh-copy-id.1.html">ssh-copy-id</a></li>
        </ul>
        <br>
      </div>
    </div>

    <div class="row">
      <div class="col">
      	<br>
        <img src="oops.jpg" alt="Young girl looking guilty" class="img-fluid, rounded">
        <h2>Installing Ubuntu: Or, When You Forget You Created A Branch</h2>
        <i>28/01/2020</i>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <p>So I impulsively decided, over the weekend, to clear Windows 10 off my laptop and install Ubuntu. Nothing like staying inside troubleshooting driver issues on a warm sunny day.
        <p>I had previously messed around with WSL and <a href="https://multipass.run/">Multipass</a> to try and get linux-like functionality without having to nuke the OS I'm used to, but there were always a couple of things that I couldn't get to work properly. nmap wasn't working in WSL, I couldn't launch Sublime Text from a Multipass VM without doing some weird nonsense with mounting, I briefly considered trying to get X Window or something working somewhere but it just didn't appeal. So off I went.
        <p>Turns out Ubuntu didn't like the Intel Rapid Storage technology baked into my Dell laptop, and didn't feel like installing. No worries, switch that off in the BIOS and everything went smoothly. Set up Firefox, logged into Lastpass, installed Sublime Text and Spotify, and I've got pretty much everything I need on a daily basis. Turns out there isn't much I use that's actually installed locally.
        <p>So I start pulling down a couple of the personal repo's I've been tinkering with most recently - in particular my "Hello, World" experiment with docker that somehow turned into a Flask API. And all my unit tests are missing.
        <p>Well, shit. I must have forgotten to push the changes up to GitHub. No worries, I backed up all my files before I nuked Windows.
        <p>Voila! There they are. Easy!
        <p>Except I can't shake this nagging feeling that I definitely pushed the unit test changes up to GitHub, because I compulsively commit and push everything, about as often as I save Word documents. So, often. Oh well.
        <p>...
        <p>And at 2am, I remember my unit test changes were in a branch. Not master, which I checked out and subsequently added my unit tests to. Another branch. Called unit-test. Which I didn't pull.
        <p>Nuke local repo, re-clone, get branch, there are all the tests. Lesson learned.
        <br>
        <p>Things that are currently interesting and helpful:
        <ul>
        	<li><a href="https://microstack.run/">MicroStack</a></li>
        	<li><a href="https://www.coursera.org/professional-certificates/google-it-automation">Google IT Automation with Python Professional Certificate</a></li>
        	<li><a href="https://www.udoo.org/">UDOO</a></li>
        	<li><a href="https://docs.pytest.org/en/latest/">pytest</a></li>
        	<li><a href="https://coverage.readthedocs.io/en/coverage-5.0.3/">coveragepy</a></li>
        </ul>
        <br>
      </div>
    </div>

    <div class="row">
      <div class="col">
      	<br>
        <img src="404.jpg" alt="Fallen icecream" class="img-fluid, rounded">
        <h2>Containers, DevOps, and Other Things I Don't Understand</h2>
        <i>17/01/2020</i>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <p>So I decided to learn about containers. Downloaded Docker, went off on a random tangent hopping on the Windows Insider programme and getting WSL2 working so Docker could use my WSL Ubuntu VM... spun up a vanilla Alpine container and watched it ping 8.8.8.8. Cool.
        <p>Part of the Docker newbie tutorial involved signing up for Docker Hub and pushing a newly built image up to a personal repo. While browsing through the repo settings I noticed Automated Builds.
        <p>Interesting.
        <p>A little while later, my "Hello, World!" experiment has turned into a Flask API, my github pushes are magically assembling containers, and I'm having visions of automated tests and continuous delivery.
        <p>Not that I know how DevOps works. I barely know how Python works.
        <br>
        <p>At the moment, my workflow looks something like this:
        <ul>
        	<li>Decide on a new feature (like returning a 404 as JSON instead of HTML)</li>
        	<li>Create and checkout a feature branch in git</li>
        	<li>Write some code</li>
        	<li>Manually test the code (cURL etc)</li>
        	<li>Build a test docker image</li>
        	<li>Manually run and test the docker image</li>
        	<li>Commit and push the feature branch</li>
        	<li>Checkout master and merge the feature branch</li>
        	<li>Push master up to github</li>
        	<li>Check the Docker Hub autobuild was successful (currently no automated tests)</li>
        	<li>Pull the newly built docker image</li>
        	<li>Manually test the newly built docker image... and we're done!</li>
        	<li>...almost. Remove the feature branch from local and github, and fetch the updated branch list.</li>
        </ul>
        <p>Automated testing is next on the chopping block, but first I need to figure out how to write some. Tests, at all. Manual ones. I've heard good things about PyTest, and might look at CoveragePy as well (whether or not that's necessary I don't know yet).
        <p>On a different note, Sublime Text 3 has been lovely. I'd used Atom in the past, and it felt bulky and sluggish. All I really need is a text editor with nice colour formatting and a linter - which is exactly what Sublime is. Yeah. Lovely.
        <br>
        <p>Things that are currently interesting and helpful:
        <ul>
        	<li><a href="https://www.sublimetext.com/3">Sublime Text 3</a></li>
        	<li><a href="http://www.sublimelinter.com/en/stable/">SublimeLinter</a></li>
        	<li><a href="https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask">Miguel Grinberg's Flask API Tutorial</a></li>
        	<li><a href="https://todoist.com">Todoist</a></li>
        	<li><a href="https://howchoo.com/g/njy4zdm3mwy/how-to-run-a-raspberry-pi-cluster-with-docker-swarm">Running Docker Swarm on a Raspberry Pi Cluster</a></li>
        </ul>
        <br>
      </div>
    </div>

  </div>

  <!--TODO: Make the footer stick to the bottom of the page -->
  <footer class="container text-center">
    <script>new Date().getFullYear() > 2010 && document.write("&copy; Andrew Wilkinson " + new Date().getFullYear());</script>
  </footer>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</html>
